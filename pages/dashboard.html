<!DOCTYPE html>
<html>

<head>
    <title>TA Manager | McGill University</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <div class="top-banner">
        <div class="logout-icon">
            <a href="javascript:;" onclick="return logout()" id="logout">
                <i class="fa-solid fa-right-from-bracket"></i> Log Out
            </a>
        </div>

        <div class="user-icon">
            <i class="fa-solid fa-user-check"></i><font id="curr-user" ></font> 
        </div>
    </div>

    <div class="cs-logo">
        <a href="dashboard.html"><img src="../assets/McGill-CS.png" alt="McGill Logo"></a>
    </div>

    <div class="header"></div>

    <div class="dashboard-container">
        <div id="admin-dash" class="task" >
            <a href="ta-admin.html">
                <div class="task-name">
                    <p>TA Administration</p>
                </div>
                <div class="task-logo">
                    <i class="fa-solid fa-toolbox"></i>
                </div>
            </a>
        </div>
        <div id="mgnt-dash" class="task">
            <a href="ta-mgnt.html">
                <div class="task-name">
                    <p>TA Management</p>
                </div>
                <div class="task-logo">
                    <i class="fa-solid fa-bars-progress"></i>
                </div>
            </a>
        </div>
        <div id="rating-dash" class="task">
            <a href="rate-search.html">
                <div class="task-name">
                    <p>Rate a TA</p>
                </div>
                <div class="task-logo">
                    <i class="fa-solid fa-star-half-stroke"></i>
                </div>
            </a>
        </div>
        <div id="sysop-dash" class="task">
            <a href="sysop.html">
                <div class="task-name">
                    <p>Sysop Tasks</p>
                </div>
                <div class="task-logo">
                    <i class="fa-solid fa-screwdriver-wrench"></i>
                </div>
            </a>
        </div>

    </div>

    <div class="footer">
        <div class="mcgill">
            McGill University
        </div>
        <div class="copyright">
            &copy; Lilia Haché, Adrien Philardeau, César Niyonkuru
        </div>
    </div>

    <script>
        let loggedInUser = sessionStorage.getItem('currentlyLoggedIn');
        if (loggedInUser !== null){     
            document.getElementById('curr-user').innerHTML=loggedInUser
        }
        function logout(){
            if (loggedInUser !== null){     
                sessionStorage.removeItem('currentlyLoggedIn');
                window.location = "index.html";
            }
            return false;
        }
        
        let loggedInUserRole = sessionStorage.getItem('loggedInUserRole');
        /*
        //Define all the roles except student
        let roles = ['professor','ta-admin','ta', 'sysop'];
        //TODO: Get from the backend the currently logged-in account roles
        let curr_roles = ['sysop', 'professor', 'ta-admin'];

        let dashboard_id = {
            'ta-admin':'admin-dash',
            'professor':'mgnt-dash',
            'ta':'mgnt-dash',
            'sysop':'sysop-dash'
        }
            
        for(let i=0; i<roles.length; i++){
            if (curr_roles.includes(roles[i])){
                document.getElementById(dashboard_id[roles[i]]).style.display = "block";
            } else{
                if((roles[i]==='professor' && curr_roles.includes('ta')) || 
                    (roles[i]==='ta' && curr_roles.includes('professor'))){
                        continue
                    }
                document.getElementById(dashboard_id[roles[i]]).style.display = "none";
            }            
        }
        */
    </script>

</body>

</html>