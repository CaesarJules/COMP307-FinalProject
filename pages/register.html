<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Registration - TA Manager | McGill University</title>
<link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="cs-logo">
    <<a href="index.html"><img src="../assets/McGill-CS.png" alt="McGill Logo"></a>
  </div>

  <div class="header"></div>

  <div class="login-container">
      
      <form id="login-form">
        <h1>Register</h1>
        <input type="text" name="email" placeholder="Email">
        <input type="password" name="password" placeholder="Password">
        <input type="password" name="confirm_password" placeholder="Confirm Password">
        <input id="register-btn" class="submit-btn" type="submit" value="Register">
      </form>

      <div class="form-link">
        <a href="index.html">Back to Login</a>
      </div>
    
  </div>

  <div class="footer">
      <div class="mcgill">
          McGill University
      </div>
      <div class="copyright">
          &copy; Lilia Haché, Adrien Philardeau, César Niyonkuru
      </div>
  </div>

</body>

<script>
  function logSubmit(event) {
    event.preventDefault();
    var email = document.getElementById('login-form').elements['email'].value;
    var password = document.getElementById('login-form').elements['password'].value;
    var confirm = document.getElementById('login-form').elements['confirm_password'].value;
    var request = new XMLHttpRequest();
    request.open('POST', 'https://www.cs.mcgill.ca/~aphila/cgi-bin/register.py');
    request.onload = function(){
      window.location.href = "https://www.cs.mcgill.ca/~aphila/COMP307-FinalProject/pages/dashboard.html";
    }
    request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    request.send("email="+email+"&password="+password+"&confirm="+confirm);
  }

  const form = document.getElementById('login-form');
  form.addEventListener('submit', logSubmit);

</script>
</html>

